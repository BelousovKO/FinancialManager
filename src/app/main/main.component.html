<!--{{iconExpense | json}}-->
<div class="container-date-filter">
  <i class="material-icons" (click)="go(-1)">arrow_left</i>
  <span>{{ dateService.date | async | moment }}</span>
  <i class="material-icons" (click)="go(1)">arrow_right</i>
</div>

<main>
  <ul>

    <li *ngFor="let elem of data.dataInterfaceExpense; let idx = index">
      <div *ngIf="titlesExpense[idx]" (click)="openModalCreateCost(idx)" [ngClass]="{opacity03: costs[idx] === 0}">
        <h2>{{titlesExpense[idx]}}</h2>
        <div class="costs material-icons" style="{{backgroundColors[idx]}}">{{iconExpense[idx]}}</div>
        <div class="sum" style="{{costsColor[idx]}}">{{costs[idx]}} ₽</div>
      </div>
      <div *ngIf="!titlesExpense[idx] && titlesExpense[idx - 1]" (click)="openModalCreateExpenseCategory()">
        <div class="costs newCost material-icons">add</div>
      </div>
    </li>

    <li class="donut-chart">
      <app-donut-chart></app-donut-chart>
    </li>

  </ul>

  <div class="modalCreateExpenseCategory" *ngIf="modalCreateExpenseCategory">
    <div class="buttons-container mb-2" style="{{colorNewExpenseCategory}}">
      <button class="btn cancel material-icons" (click)="modalCreateExpenseCategory = false">close</button>
      <button class="btn create material-icons" [disabled]="!inputValue" (click)="createExpenseCategory()">
        check
      </button>
    </div>
    <div class="input-container mb-3">
      <label>
        <input type="text" (input)="inputHandlerCategory($event)" placeholder="Название категории"/>
      </label>
      <div class="costs newIcon material-icons" style="{{colorNewExpenseCategory}}"
           (click)="modalChangeIcon = true">{{iconNewExpenseCategory}}</div>
    </div>
  </div>

  <div class="modalChangeIcon" *ngIf="modalChangeIcon">
    <div class="buttons-container" style="{{colorNewExpenseCategory}}">
      <button class="btn cancel material-icons" (click)="modalChangeIcon = false">close</button>
    </div>
    <ul class="list-icons">
      <li *ngFor="let elem of listIcon; let idx = index" class="material-icons"
          (click)="iconNewExpenseCategory = listIcon[idx]; modalChangeIcon = false">{{elem}}</li>
    </ul>
  </div>

  <div class="modalCreateCost" *ngIf="modalCreateCost">
    <div class="buttons-container mb-2" style="{{colorNewCost}}">
      <button class="btn cancel material-icons" (click)="modalCreateCost = false">close</button>
      <button class="btn create material-icons" [disabled]="!inputValue" (click)="createNewCost()">check</button>
    </div>
    <div class="input-container">
      <label>
        <input type="number" class="mb-2" (input)="inputHandlerCost($event)" placeholder="Введите сумму"/>
      </label>
      <label>
        <input type="text" (input)="inputHandlerNotes($event)" placeholder="Заметки..."/>
      </label>
    </div>
  </div>

</main>
